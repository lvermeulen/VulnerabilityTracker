using System.Threading.Tasks;
using Xunit;

namespace SnykIo.Api.Tests
{
    public class SnykIoClientShould
    {
        private readonly SnykIoClient _client;

        public SnykIoClientShould()
        {
            _client = new SnykIoClient("https://snyk.io", "6753ac19-0a98-44af-bd85-f8665c65a080");
        }

        //[Theory]
        //[InlineData(PackageManagerTypes.NuGet, "Flurl.Http.Xml", "1.5.0")]
        //[InlineData(PackageManagerTypes.NuGet, "Flurl.Http.Xml", null)]
        //[InlineData(PackageManagerTypes.NuGet, "jquery", "2.0.0")]
        //[InlineData(PackageManagerTypes.Npm, "yup", "0.24.1")]
        //public async Task GetPackageVersionAsync(PackageManagerTypes packageManager, string packageName, string packageVersion)
        //{
        //    var result = await _client.GetPackageVersionAsync(packageManager, packageName, packageVersion);
        //    Assert.NotNull(result);
        //}

        //[Theory]
        //[InlineData(PackageManagerTypes.NuGet, "Flurl.Http.Xml", "1.5.0")]
        //[InlineData(PackageManagerTypes.Npm, "yup", "0.24.1")]
        //public async Task GetPackagesAsync(PackageManagerTypes packageManager, string packageName, string packageVersion)
        //{
        //    var request = new PackageRequest
        //    {
        //        Pm = packageManager.ToString().ToLowerInvariant(),
        //        Name = packageName,
        //        Version = packageVersion
        //    };

        //    var result = await _client.GetPackagesAsync(request);
        //    Assert.NotNull(result);
        //}
    }
}
